<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <link rel="stylesheet" href="/static/style.css?v={{ version }}">
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>
  <header class="header">
    <div class="header__container">
      <div class="header__logo-container">
        <a href="/" class="header__logo-link" style="display:flex;align-items:center;">
          <img
            src="https://cdn.prod.website-files.com/661d31a2986c2e235986f9dd/678a3aad73835b8b2380afc5_Layer_1-p-500.png"
            alt="Stears Logo" style="height:36px;width:auto;display:block;">
        </a>
      </div>
      <nav class="nav">
        <a href="/about-us" class="nav__link">About Us</a>
        <a href="/subscribe" class="nav__link btn--ash">Subscribe</a>
      </nav>
    </div>
  </header>

  <div class="page-layout">
    <aside class="sidebar">
      <div class="sidebar__inner">
        <div class="sidebar__title">Open Data</div>
        <div class="sidebar__section-title">African Democracy</div>

        <div class="nav-group" onclick="toggleGroup(this)">
          <div class="nav-group__title">
            Election Tracker
            <span class="chevron">
              <svg viewBox="0 0 24 24">
                <polyline points="8 5 16 12 8 19" />
              </svg>
            </span>
          </div>
          <ul class="nav-group__list">
            {% for slug, page in sidebar.tracker.items() %}
            <li class="nav-group__item"><a href="/{{ slug }}" class="nav-group__link">{{
                page.page_fields["Democracy-page"] }}</a></li>
            {% endfor %}
          </ul>
        </div>

        <div class="nav-group" onclick="toggleGroup(this)">
          <div class="nav-group__title">
            Democracy Data
            <span class="chevron">
              <svg viewBox="0 0 24 24">
                <polyline points="8 5 16 12 8 19" />
              </svg>
            </span>
          </div>
          <ul class="nav-group__list">
            {% for slug, page in sidebar.democracy.items() %}
            <li class="nav-group__item"><a href="/{{ slug }}" class="nav-group__link">{{
                page.page_fields["Democracy-page"] }}</a></li>
            {% endfor %}
          </ul>
        </div>

        <div class="nav-group" onclick="toggleGroup(this)">
          <div class="nav-group__title">
            Country Data & History
            <span class="chevron">
              <svg viewBox="0 0 24 24">
                <polyline points="8 5 16 12 8 19" />
              </svg>
            </span>
          </div>
          <ul class="nav-group__list">
            {% for slug, country in sidebar.countries.items() %}
            <li class="nav-group__item"><a href="/{{ slug }}" class="nav-group__link">{{ country.page_fields["Country"]
                }}</a></li>
            {% endfor %}
          </ul>
        </div>

        <div class="nav-group">
          {% for slug, page in sidebar.directory.items() %}
          <div class="nav-group__title"><a href="/{{ slug }}" class="nav-group__link">Directory of Country Resources</a>
          </div>
          {% endfor %}
        </div>
      </div>
    </aside>

    <main class="content">
      {% block content %}{% endblock %}

      <!-- Stay up-to-date section in a container like More info -->
      <div class="stay-updated__container">
        <div class="stay-updated__title">Stay up-to-date on African elections</div>
        <p class="stay-updated__description">We'll send you updates on upcoming African elections, including results and
          major changes to dates or
          candidates on the ballot.</p>
        <button class="stay-updated__button">Subscribe</button>
      </div>
    </main>
  </div>

  <!-- Footer -->
  <footer class="footer--main footer--alt">
    <div class="footer__row">
      <!-- Left: Logo/Description -->
      <div class="footer__left">
        <div class="footer__logo">
          <img
            src="https://cdn.prod.website-files.com/661d31a2986c2e235986f9dd/678a3aad73835b8b2380afc5_Layer_1-p-500.png"
            alt="Stears OpenData" style="height:24px;width:auto;">
        </div>
        <p class="footer__description--small">
          Stears OpenData is non-profit initiative of Stears.<br>
          All data is provided for free under
        </p>
      </div>
      <!-- Right: nav and subscribe side-by-side -->
      <div class="footer__right-group">
        <div class="footer__nav">
          <ul>
            <li><a href="/about">About</a></li>
            <li><a href="/products/product1">Product 1</a></li>
            <li><a href="/products/product2">Product 2</a></li>
            <li><a href="/products/product3">Product 3</a></li>
            <li><a href="/legal">Legal Things</a></li>
          </ul>
        </div>
        <div class="footer__divider"></div>
        <div class="footer__subscribe">
          <div class="footer__subscribe-title">SUBSCRIBE</div>
          <div class="footer__subscribe-description">Enter your email to get notified about updates</div>
          <form class="footer__form">
            <input type="email" placeholder="Email" />
          </form>
          <div class="footer__social">
            <a href="#" class="social-icon">f</a>
            <a href="#" class="social-icon">tw</a>
            <a href="#" class="social-icon">in</a>
          </div>
        </div>
      </div>
    </div>
    <hr class="footer__line" />
  </footer>

  <!-- Mobile Navigation -->
  <nav class="mobile-nav">
    <div class="mobile-nav__container">
      <button class="mobile-nav__button" onclick="openMobilePanel('tracker')">
        <svg class="mobile-nav__icon" viewBox="0 0 24 24">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        <span class="mobile-nav__text">Election<br>Tracker</span>
      </button>

      <button class="mobile-nav__button" onclick="openMobilePanel('democracy')">
        <svg class="mobile-nav__icon" viewBox="0 0 24 24">
          <polyline points="22,6 22,20 13,20 5,12 5,20 2,20 2,4 11,4 19,12 19,4 22,4"></polyline>
          <line x1="6" y1="16" x2="18" y2="8"></line>
        </svg>
        <span class="mobile-nav__text">Democracy<br>Data</span>
      </button>

      <button class="mobile-nav__button" onclick="openMobilePanel('countries')">
        <svg class="mobile-nav__icon" viewBox="0 0 24 24">
          <polygon points="1,6 1,22 8,18 16,22 23,18 23,2 16,6 8,2"></polygon>
          <line x1="8" y1="2" x2="8" y2="18"></line>
          <line x1="16" y1="6" x2="16" y2="22"></line>
        </svg>
        <span class="mobile-nav__text">Country Data<br>& History</span>
      </button>

      <a href="/directory" class="mobile-nav__button mobile-nav__button--link">
        <svg class="mobile-nav__icon" viewBox="0 0 24 24">
          <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
          <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
        </svg>
        <span class="mobile-nav__text">Directory</span>
      </a>
    </div>
  </nav>

  <!-- Mobile Panels -->
  <div id="mobile-panel-tracker" class="mobile-panel">
    <div class="mobile-panel__header">
      <h2 class="mobile-panel__title">Election Tracker</h2>
      <button class="mobile-panel__close" onclick="closeMobilePanel('tracker')">&times;</button>
    </div>
    <div class="mobile-panel__content">
      <ul class="mobile-panel__list">
        {% for slug, page in sidebar.tracker.items() %}
        <li class="mobile-panel__item">
          <a href="/{{ slug }}" class="mobile-panel__link">{{ page.page_fields["Democracy-page"] }}</a>
        </li>
        {% endfor %}
      </ul>
    </div>
  </div>

  <div id="mobile-panel-democracy" class="mobile-panel">
    <div class="mobile-panel__header">
      <h2 class="mobile-panel__title">Democracy Data</h2>
      <button class="mobile-panel__close" onclick="closeMobilePanel('democracy')">&times;</button>
    </div>
    <div class="mobile-panel__content">
      <ul class="mobile-panel__list">
        {% for slug, page in sidebar.democracy.items() %}
        <li class="mobile-panel__item">
          <a href="/{{ slug }}" class="mobile-panel__link">{{ page.page_fields["Democracy-page"] }}</a>
        </li>
        {% endfor %}
      </ul>
    </div>
  </div>

  <div id="mobile-panel-countries" class="mobile-panel">
    <div class="mobile-panel__header">
      <h2 class="mobile-panel__title">Country Data & History</h2>
      <button class="mobile-panel__close" onclick="closeMobilePanel('countries')">&times;</button>
    </div>
    <div class="mobile-panel__content">
      <ul class="mobile-panel__list">
        {% for slug, country in sidebar.countries.items() %}
        <li class="mobile-panel__item">
          <a href="/{{ slug }}" class="mobile-panel__link">{{ country.page_fields["Country"] }}</a>
        </li>
        {% endfor %}
      </ul>
    </div>
  </div>



  <script>
    function toggleGroup(el) {
      document.querySelectorAll('.nav-group').forEach(group => {
        if (group !== el) group.classList.remove('nav-group--active');
      });
      el.classList.toggle('nav-group--active');
    }

    function openMobilePanel(panelId) {
      const panel = document.getElementById(`mobile-panel-${panelId}`);
      if (panel) {
        panel.classList.add('mobile-panel--active');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeMobilePanel(panelId) {
      const panel = document.getElementById(`mobile-panel-${panelId}`);
      if (panel) {
        panel.classList.remove('mobile-panel--active');
        document.body.style.overflow = '';
      }
    }

    // Close panel when clicking on a link
    document.addEventListener('click', function (e) {
      if (e.target.matches('.mobile-panel__link')) {
        document.querySelectorAll('.mobile-panel').forEach(panel => {
          panel.classList.remove('mobile-panel--active');
        });
        document.body.style.overflow = '';
      }
    });
  </script>
</body>

</html>